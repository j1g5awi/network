# 协议简述

|字段号|1|2|3|4|5|
|- |-|-|-|-|-|
|长度|1 字节|1 字节|2 字节|由实际内容确定|2 字节|
|含义|版本号|类型|数据总长度|数据部分或参数|校验和|
|值|19|[类型](#类型)|要计算|从键盘输入|0|

## 类型

- 0：错误
- 1：建立连接
- 2：认证
- 6：数据 
- 7：断开连接

## 一次完整的通信

### 建立连接阶段

客户端向服务端发送数据部分为空的建立连接消息。

服务端返回建立连接消息：数据部分第 1 字节为 T 需要认证,为 F 不需要，同时约定数据块长度上界（在协议数据部分第 2 字节,A:10 字节,N:20 字节,Y:50 字节）,其中 T、F、A、N、Y 为大写字母。

### 认证阶段

客户端向服务端发送数据部分为口令的认证消息。

服务端向客户端发送数据部分为空的认证消息表示认证成功。

### 数据传送阶段

略

### 断开连接阶段

客户端向服务端发送数据部分为空的断开连接请求。

服务端向客户端返回数据部分为"T"表示同意断开连接。